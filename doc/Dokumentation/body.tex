\chapter{Aufgabe}

Die Aufgabe bestand in einer Implementierung eines Webservices in PHP mit dem Slim Framework.
Als Zusatzaufgabe sollte das Thema WS-Security durch Authentifizierung mittels OAuth2 und Verschlüsselung mittels HTTPS gelöst werden.

Der Webservice stellt die Vermietungsplattform für einen fiktiven Bikesharingdienst dar.

\chapter{Installation}
\section{Datenbank}
Für die Installation der Datenbank müssen die mitgelieferten Dumps bikesharingservice.sql und bikesharingservice\_oauth.sql in eine MySQL Datenbank eingefügt werden.
\begin{lstlisting}[caption={Datenbankimport}\label{lst:dbimport},captionpos=b] 
mysql -u root -p -h localhost
mysql> create database bikesharingservice;
mysql> create database bikesharingservice_oauth;
mysql> exit;
mysql -u username -p -h localhost bikesharingservice < bikesharingservice.sql
mysql -u username -p -h localhost bikesharingservice_oauth < 
	bikesharingservice_oauth.sql
\end{lstlisting}
Anschließend muss die Datenbank gestartet werden.

\section{Webservice und API}

\chapter{Funktionen Webservice}

\begin{tabularx}{\columnwidth}{|X|p{1.5cm}|X|p{1.5cm}|}
	\hline
	Name & Method & URL & Access \\
	\hline
	\hline
	Alle verfügbare Fahrradstationen & GET & /stations & public \\
	\hline
	Spezielle Station & GET & /stations/stationID & public \\
	\hline
	Alle verfügbaren Fahrräder & GET & /bikes & public \\
	\hline
	Spezielles Fahrrad & GET & /bikes/bikesID & public \\
	\hline
	Alle Fahrradmodelle & GET & /models & public \\
	\hline
	Spezielles Fahrradmodell & GET & /models/modelID & public \\
	\hline
	Alle Buchungen & GET & /bookings & protected \\
	\hline
	Buchung erstellen & POST & /bookings & protected \\
	\hline
	Einzelne Buchung & GET & /bookings/bookingID & protected \\
	\hline
	Einzelne Buchung stornieren & DELETE & /bookings/bookingID & protected \\
	\hline
	Einzelne Buchung bearbeiten & PUT & /bookings/bookingID & protected \\
	\hline
	Accountinformationen & GET & /account & protected \\
	\hline
\end{tabularx}

\section{GET Methoden}
\subsection{stations}
\input{wiki/Get-stations.md}
\subsection{bikes}
\input{wiki/Get-bikes.md}
\subsection{models}
\input{wiki/Get-bike-models.md}
\subsection{account}
\input{wiki/Get-account-informations.md}
\subsection{bookings}
\input{wiki/Get-bookings.md}
\section{POST Methoden}
\subsection{bookings}
\input{wiki/Create-booking.md}
\section{DELETE Methoden}
\subsection{bookings}
\input{wiki/Delete-booking.md}
\section{PUT Methoden}
\subsection{bookings}
\input{wiki/Edit-booking.md}

\chapter{Webclient}

Der Webclient ist so konzipiert, dass prinzipiell auch mobile Endgeräte unterstützt werden.
Er bietet alle Funktionen die im vorhergehenden Kapitel beschrieben sind.
Dazu zählen eine Suche, sowohl nach Adressen, als auch nach Ausleihstationen, eine Übersicht über die verfügbaren Fahrradmodelle und über die Stationen an denen Fahrräder ausgeliehen werden können.

\begin{figure}[h]
        \centering
	\includegraphics[height=80mm]{pics/bikesharing_search.png}
\end{figure}

\chapter{Zusatzaufgabe WS-Security}

\section{OAuth2}

Das Architekturkonzept von OAuth2 wird durch folgendes Schema verdeutlicht.

\begin{figure}[h]
        \centering
	\includegraphics[height=80mm]{pics/Architektur.png}
\end{figure}

\section{Implementierung}

\chapter{Fazit}

Die Implementierung des Webclient ist nach Vorlage einer durchdachten API gut machbar.

Das Slim-Framework war eine gute Wahl, da die Verwendung sehr einfach und fehlerfrei verlief.
Die OAuth-Middleware hat leider nicht funktioniert, auch ist die Implementierung eines OAuth-Servers relativ kompliziert.

Der Aufwand ist, ja nach gewählter Aufgabe, recht hoch, insbesondere wenn man, wie in diesem Fall, Programmiersprachen wählt, die den Teammitgliedern gar nicht, oder nur rudimentär geläufig sind.
Wir hatten uns ursprünglich für PHP entschieden, da wir eine neue Programmiersprache kennenlernen wollten.

%\chapter{Quellen}

